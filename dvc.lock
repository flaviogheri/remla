schema: '2.0'
stages:
  build_features:
    cmd: python src/features/build_features.py
    deps:
    - path: src/data/raw/test_raw.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: src/data/raw/train_raw.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: src/data/raw/val_raw.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: src/features/build_features.py
      hash: md5
      md5: 0f5fc64b52c6afe5910c7917f800379e
      size: 3046
    outs:
    - path: src/data/processed/x_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: src/data/processed/x_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: src/data/processed/x_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: src/data/processed/y_test.npy
      hash: md5
      md5: 2e2044626c9afab7c7d378dc3814ba8a
      size: 2913720
    - path: src/data/processed/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: src/data/processed/y_val.npy
      hash: md5
      md5: e024823c3485bb493e855fbfdd4f452e
      size: 4120768
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: src/data/processed/x_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: src/data/processed/x_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: src/data/processed/x_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: src/data/processed/y_test.npy
      hash: md5
      md5: 2e2044626c9afab7c7d378dc3814ba8a
      size: 2913720
    - path: src/data/processed/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: src/data/processed/y_val.npy
      hash: md5
      md5: e024823c3485bb493e855fbfdd4f452e
      size: 4120768
    - path: src/models/train_model.py
      hash: md5
      md5: e9e150a9b110c8aa413e878c70a6ec2f
      size: 3515
    params:
      config.yml:
        params:
          batch_test: 5000
          batch_train: 5000
          categories:
          - phishing
          - legitimate
          char_index_size: 71
          dataset_dir: ../dataset/small_dataset/
          embedding_dimension: 50
          epoch: 30
          loss_function: binary_crossentropy
          optimizer: adam
          sequence_length: 200
    outs:
    - path: models/phishing_model.keras
      hash: md5
      md5: 5f613c0dbbbd787f933da3bb687163a3
      size: 5472435
  predict_model:
    cmd: python src/models/predict_model.py
    deps:
    - path: models/phishing_model.keras
      hash: md5
      md5: 5f613c0dbbbd787f933da3bb687163a3
      size: 5472435
    - path: src/data/processed/x_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: src/data/processed/y_test.npy
      hash: md5
      md5: 2e2044626c9afab7c7d378dc3814ba8a
      size: 2913720
    outs:
    - path: reports/accuracy.txt
      hash: md5
      md5: cfcd208495d565ef66e7dff9f98764da
      size: 1
    - path: reports/classification_report.txt
      hash: md5
      md5: cfcd208495d565ef66e7dff9f98764da
      size: 1
    - path: reports/confusion_matrix.txt
      hash: md5
      md5: cfcd208495d565ef66e7dff9f98764da
      size: 1
